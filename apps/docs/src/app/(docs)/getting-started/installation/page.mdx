import { PageTransition } from "@/components/page-transition";

<PageTransition>
  <div className="prose dark:prose-invert">
    # Installation

    To use XStack Library in your project, you can install it via npm:

    ```bash
    npm install cross-stack-lib
    ```

    Or if you are using yarn:

    ```bash
    yarn add cross-stack-lib
    ```

    ## Framework Integration

    XStack Library components are Web Components, which means they can be used directly in any modern web project. However, for the best experience in frameworks like React, Vue, or Angular, some additional setup is recommended.

    ### React (Next.js)

    When using XStack Library with React, it's highly recommended to use the `@lit-labs/react` package to create wrapper components. This provides proper type safety, event handling, and integration with React's lifecycle.

    First, install `@lit-labs/react`:

    ```bash
    npm install @lit-labs/react
    ```

    Then, create a wrapper component file (e.g., `LitWrappers.tsx`). Using a client component (`'use client';`) is recommended to access hooks like `useTheme`.

    ```tsx
    // components/LitWrappers.tsx
    'use client';

    import React from 'react';
    import { createComponent } from '@lit-labs/react';
    import { useTheme } from 'next-themes'; // Or your preferred theme provider
    import { XStackTable as XStackTableWC, XStackModal as XStackModalWC } from 'cross-stack-lib';

    // Create base React components from the Web Components
    const XStackTableComponent = createComponent({
      react: React,
      tagName: 'xstack-table',
      elementClass: XStackTableWC,
      events: {
        onSearch: 'search', // Map 'search' event to 'onSearch' prop
        onPageChange: 'pageChange', // Map 'pageChange' event to 'onPageChange' prop
      },
    });

    const XStackModalComponent = createComponent({
      react: React,
      tagName: 'xstack-modal',
      elementClass: XStackModalWC,
      events: {
        onClose: 'close', // Map 'close' event to 'onClose' prop
      },
    });

    // Create theme-aware wrappers that pass the current theme to the components
    export const XStackTable = (props: any) => {
      const { theme } = useTheme();
      return <XStackTableComponent {...props} theme={theme} />;
    };

    export const XStackModal = (props: any) => {
      const { theme } = useTheme();
      return <XStackModalComponent {...props} theme={theme} />;
    };
    ```

    Now you can import `XStackTable` and `XStackModal` from this file and use them as regular React components.

    ### Vue.js

    Vue.js has excellent native support for Web Components. You just need to tell Vue to treat `xstack-*` tags as custom elements.

    In your `main.ts` or `main.js`:

    ```typescript
    // main.ts
    import { createApp } from 'vue';
    import App from './App.vue';
    import 'cross-stack-lib'; // Import the library to register the components

    const app = createApp(App);
    app.config.compilerOptions.isCustomElement = (tag) => tag.startsWith('xstack-');
    app.mount('#app');
    ```

    Then you can use the components directly in your Vue templates, using `.prop` for object/array properties and `@event` for events.

    ### Angular

    Angular also supports Web Components. You need to add `CUSTOM_ELEMENTS_SCHEMA` to your module to allow custom element tags.

    In your `app.module.ts` (or the specific module where you use the components):

    ```typescript
    // app.module.ts
    import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
    import { BrowserModule } from '@angular/platform-browser';
    import { AppComponent } from './app.component';

    @NgModule({
      declarations: [AppComponent],
      imports: [BrowserModule],
      providers: [],
      bootstrap: [AppComponent],
      schemas: [CUSTOM_ELEMENTS_SCHEMA] // Add this line
    })
    export class AppModule { }
    ```

    And in your `main.ts`, you need to import the library to register the components:

    ```typescript
    // main.ts
    import 'cross-stack-lib';
    ```

  </div>
</PageTransition>